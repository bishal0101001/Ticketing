(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{1597:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets/[ticketId]",function(){return r(3211)}])},5352:function(t,e,r){"use strict";var n=r(5893),i=r(7294),s=r(594);e.Z=t=>{let{url:e,method:r,body:c,onSuccess:l}=t,[a,u]=(0,i.useState)(null),d=async()=>{try{u(null);let t=await s.Z[r](e,c);return l&&l(t.data),t.data}catch(o){var i,a,d;u((0,n.jsx)("div",{className:"alert alert-danger",children:(0,n.jsx)("ul",{children:null==o?void 0:null===(i=o.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:null===(d=a.errors)||void 0===d?void 0:d.map(t=>(0,n.jsx)("li",{children:t.message},t.message))})}))}};return{doRequest:d,errors:a}}},3211:function(t,e,r){"use strict";r.r(e);var n=r(5893),i=r(5352),s=r(1163);let c=t=>{let{ticket:e}=t,r=(0,s.useRouter)(),{doRequest:c,errors:l}=(0,i.Z)({url:"/api/orders",method:"post",body:{ticketId:e.id},onSuccess:t=>r.push("/orders/[orderId]","/orders/".concat(t.id))});return e&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:e.title}),(0,n.jsxs)("h4",{children:["Price: ",e.title]}),l,(0,n.jsx)("button",{className:"btn btn-primary",onClick:c,children:"Purchase"})]})};c.getInitialProps=async(t,e)=>{let{ticketId:r}=t.query,{data:n}=await e.get("/api/tickets/".concat(r));return{ticket:n}},e.default=c},1163:function(t,e,r){t.exports=r(880)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=1597)}),_N_E=t.O()}]);