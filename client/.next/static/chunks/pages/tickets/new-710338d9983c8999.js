(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{365:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets/new",function(){return n(9741)}])},5352:function(e,t,n){"use strict";var l=n(5893),r=n(7294),s=n(594);t.Z=e=>{let{url:t,method:n,body:a,onSuccess:i}=e,[u,o]=(0,r.useState)(null),c=async()=>{try{o(null);let e=await s.Z[n](t,a);return i&&i(e.data),e.data}catch(d){var r,u,c;o((0,l.jsx)("div",{className:"alert alert-danger",children:(0,l.jsx)("ul",{children:null==d?void 0:null===(r=d.response)||void 0===r?void 0:null===(u=r.data)||void 0===u?void 0:null===(c=u.errors)||void 0===c?void 0:c.map(e=>(0,l.jsx)("li",{children:e.message},e.message))})}))}};return{doRequest:c,errors:u}}},9741:function(e,t,n){"use strict";n.r(t);var l=n(5893),r=n(7294),s=n(5352),a=n(1163);let i=()=>{let[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),u=(0,a.useRouter)(),{doRequest:o,errors:c}=(0,s.Z)({url:"/api/tickets",method:"post",body:{title:e,price:n},onSuccess:()=>u.push("/")}),d=e=>{e.preventDefault(),o()},h=()=>{let e=parseFloat(n);isNaN(e)||i(e.toFixed(2))};return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Create a Ticket"}),(0,l.jsxs)("form",{onSubmit:d,children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"title",children:"Title"}),(0,l.jsx)("input",{type:"text",name:"title",className:"form-control",value:e,onChange:e=>t(e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"price",children:"Price"}),(0,l.jsx)("input",{type:"text",name:"price",className:"form-control",value:n,onChange:e=>i(e.target.value),onBlur:h})]}),(0,l.jsx)("button",{className:"btn btn-primary mt-4",children:"Submit"})]})]})};t.default=i},1163:function(e,t,n){e.exports=n(880)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=365)}),_N_E=e.O()}]);